#include <msp430.h>
#include "nR24L01.h"
#include "SPI_CMD.h"
extern int IncrementVcore(void);

void main(void)
{
  IncrementVcore(); // Increment to level 1 so 12 MHz can be used

  UCSCTL1 = DCORSEL_5; // Range of frequency of 20 MHz
  UCSCTL2 = 304; // Set frequency to 10 MHz
  UCSCTL3 = SELREF_0;
  UCSCTL4 = SELS_3;

  LP_init();
  SPI_pins_init();
  SPI_init();

  // TX mode PWR_up = 1, PRIM_RX = 0,CE = 1
  // Write command and status registers command word 001A AAAA
  // Hex address 00, " 00001010 "
  _EINT();
  LPM0;
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
spi_cmd(char * string, int length)
{
  unsigned int i;
  for(i=0; i<length; i++)
  {
    while(!(UCA1IFG & UCTXIFG));
    UCB0TXBUF = string[i];
  }
}

